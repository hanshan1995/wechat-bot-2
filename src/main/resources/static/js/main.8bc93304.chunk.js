(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{190:function(e,t,a){e.exports=a(340)},195:function(e,t,a){},196:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},197:function(e,t,a){},340:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(15),s=a.n(r),i=(a(195),a(196),a(197),a(346)),c=a(343),o=a(7),u=a(33),m=a(31),d=a(34),h=a(55),E=a(53),v=a(347),S=a(35),y=a(341),p=a(344),k=a(348),O=a(345),R=a(92),T=a(351),I=a(350),L="INIT",f="LOADING",b="SUCCESS",N="ERRPR",P={BASE:"BASE",INDEXBANNER:"INDEXBANNER",HISTORYTSPORTRECORD:"HISTORYTSPORTRECORD",SPORTSLIST:"SPORTSLIST",RECOMMENDSOPRTS:"RECOMMENDSOPRTS",PROMOTIONTYPE:"PROMOTIONTYPE",PROMOTIONLIST:"PROMOTIONLIST",NEWSLIST:"NEWSLIST",USERINFO:"USERINFO",SPORTSFOLLOW:"SPORTSFOLLOW",LOTTERYFOLLOW:"LOTTERYFOLLOW",SPORTSCOLLECTION:"SPORTSCOLLECTION",USERMESSAGE:"USERMESSAGE",RECOMMENDLOTTERY:"RECOMMENDLOTTERY",PROFESSORRECOMMENDLOTTERY:"PROFESSORRECOMMENDLOTTERY",HISTORYLOTTERY:"HISTORYLOTTERY",LOTTERYDETAIL:"LOTTERYDETAIL",LOTTERYLIST:"LOTTERYLIST",LOTTERYCATEGORY:"LOTTERYCATEGORY",SPORTSINFORMATION:"SPORTSINFORMATION",SPORTSLEAGUELIST:"SPORTSLEAGUELIST",SPORTSGETHANDICALIST:"SPORTSGETHANDICALIST",NEWSDETAIL:"NEWSDETAIL",PROMOTIONDETAIL:"PROMOTIONDETAIL",NEWSCOMMENTLIST:"NEWSCOMMENTLIST",UPDATENEWSCOMMENT:"UPDATENEWSCOMMENT",WELFAREAPPLYLIST:"WELFAREAPPLYLIST",HISTORYINDEXLOTTERY:"HISTORYINDEXLOTTERY",ASIANSPORTSINDEXLIST:"ASIANSPORTSINDEXLIST",EROUPSPORTSINDEXLIST:"EROUPSPORTSINDEXLIST",SIZESPORTSINDEXLIST:"SIZESPORTSINDEXLIST",ASIANSPORTSINDEXDETAIL:"ASIANSPORTSINDEXDETAIL",SPORTSTEXTLIVE:"SPORTSTEXTLIVE"},g=function(){function e(){Object(m.a)(this,e)}return Object(d.a)(e,null,[{key:"seriesRequest",value:function(e,t,a,n){var l,r="http://localhost:10000"+t;if(void 0===n&&((n={})["Content-Type"]="application/json",n.Authorization=sessionStorage.getItem("omToken")),void 0===a&&(a={}),"GET"===e){var s=[];Object.keys(a).forEach((function(e){return void 0!=a[e]&&null!=a[e]?s.push(e+"="+a[e]):null})),r+="?"+s.join("&"),l=new Request(r,{method:"GET",headers:n})}else if("POST"===e){var i=JSON.stringify(a);l=new Request(r,{method:"POST",headers:n,body:i})}else if("PUT"===e){var c=JSON.stringify(a);l=new Request(r,{method:"PUT",headers:n,body:JSON.stringify(c)})}else if("DELETE"===e){var o=JSON.stringify(a);l=new Request(r,{method:"DELETE",headers:n,body:JSON.stringify(o)})}return l}}]),e}(),x=function(){function e(){Object(m.a)(this,e)}return Object(d.a)(e,null,[{key:"handleDispatch",value:function(e,t,a,n){return a({reduceType:P.BASE,type:e,data:t,status:n})}},{key:"handleRequest",value:function(e,t){var a=this;return function(n){a.handleDispatch(e,{},n,f),fetch(t).then((function(e){return e.json()})).then((function(t){if(1!=t.resultCode)return v.b.warning(t.message),!1;a.handleDispatch(e,t,n,b)})).catch((function(t){a.handleDispatch(e,{},n,N)}))}}},{key:"promiseRequest",value:function(e,t){return fetch(e).then((function(e){return e.json()}))}},{key:"WeChatRobotAPI",value:function(e,t){var a;switch(e){case"fetchAccounts":return a=g.seriesRequest("POST","/accounts",t),this.promiseRequest(a);case"saveAccounts":return a=g.seriesRequest("POST","/account/save",t),this.promiseRequest(a);case"fetchOrders":return a=g.seriesRequest("GET","/orders",t),this.promiseRequest(a);case"fetchUsers":return a=g.seriesRequest("POST","/user_list",t),this.promiseRequest(a);case"rentGroupChange":return a=g.seriesRequest("GET","/rentgroup/mark",t),this.promiseRequest(a);case"recharge":return a=g.seriesRequest("POST","/recharge",t),this.promiseRequest(a);case"cancelRent":return a=g.seriesRequest("POST","/rent/cancel",t),this.promiseRequest(a);case"fetchAccountsRent":return a=g.seriesRequest("POST","/accounts/rent",t),this.promiseRequest(a)}}},{key:"LotteryAPI",value:function(e,t){var a;switch(e){case"LotteryType":return a=g.seriesRequest("POST","/Lottery/LotteryTypeList",t),this.promiseRequest(a);case"LotteryCatList":return a=g.seriesRequest("POST","/Lottery/LotteryCategoryList",t),this.handleRequest(P.LOTTERYCATEGORY,a);case"lotteryList":return a=g.seriesRequest("POST","/Lottery/LottoList",t),this.handleRequest(P.LOTTERYLIST,a);case"recommendLottery":return a=g.seriesRequest("POST","/Lottery/HotLotteryList",t),this.handleRequest(P.RECOMMENDLOTTERY,a);case"porfessorRecommendLottery":return a=g.seriesRequest("POST","/Lottery/LotteryRecordList",t),this.handleRequest(P.PROFESSORRECOMMENDLOTTERY,a);case"historyLottery":return a=g.seriesRequest("POST","/Lottery/LotteryList",t),this.handleRequest(P.HISTORYLOTTERY,a);case"lotteryDetail":return a=g.seriesRequest("POST","/Lottery/LotteryDetail",t),this.handleRequest(P.LOTTERYDETAIL,a);case"LotteryYesterdayInfo":return a=g.seriesRequest("POST","/Lottery/GetLotteryExploits",t),this.handleRequest(P.HISTORYINDEXLOTTERY,a)}}},{key:"SportsAPI",value:function(e,t){var a;switch(e){case"historyRecord":return a=g.seriesRequest("POST","/Sports/GetExploits",t),this.handleRequest(P.HISTORYTSPORTRECORD,a);case"sportsList":return a=g.seriesRequest("POST","/Sports/GetCompetitionList",t),this.handleRequest(P.SPORTSLIST,a);case"recommendSports":return a=g.seriesRequest("POST","/Sports/GetReferralsList",t),this.handleRequest(P.RECOMMENDSOPRTS,a);case"sportsDetail":return a=g.seriesRequest("POST","/Sports/GetCompetitionDetail",t),this.promiseRequest(a);case"sportsInformationDetail":return a=g.seriesRequest("POST","/Sports/GetInformationList",t),this.handleRequest(P.SPORTSINFORMATION,a);case"sportsLeagueList":return a=g.seriesRequest("POST","/Sports/GetLeagueList",t),this.handleRequest(P.SPORTSLEAGUELIST,a);case"asianSportsIndexList":return a=g.seriesRequest("POST","/Sports/GetAsiaHandicaList",t),this.handleRequest(P.ASIANSPORTSINDEXLIST,a);case"asianSportsIndexDetail":return a=g.seriesRequest("POST","/Sports/GetCompanyAsiaHandicaList",t),this.handleRequest(P.ASIANSPORTSINDEXDETAIL,a);case"eroupSportsIndexList":return a=g.seriesRequest("POST","/Sports/GetEuropeHandicaList",t),this.handleRequest(P.EROUPSPORTSINDEXLIST,a);case"sizeSportsIndexList":return a=g.seriesRequest("POST","/Sports/GetEuropeHandicaList",t),this.handleRequest(P.SIZESPORTSINDEXLIST,a);case"sportsTextLive":return a=g.seriesRequest("POST","/Sports/GetLiveInformation",t),this.handleRequest(P.SPORTSTEXTLIVE,a)}}},{key:"PromotionAPI",value:function(e,t){var a;switch(e){case"promotionType":return a=g.seriesRequest("POST","/Promotion/PromotionTypeList",t),this.handleRequest(P.PROMOTIONTYPE,a);case"promotionList":return a=g.seriesRequest("POST","/Promotion/PromotionList",t),this.handleRequest(P.PROMOTIONLIST,a);case"promotionDetail":return a=g.seriesRequest("POST","/Promotion/PromotionDetail",t),this.handleRequest(P.PROMOTIONDETAIL,a);case"applyWelfare":return a=g.seriesRequest("POST","/Promotion/ApplyForPromotion",t),this.promiseRequest(a);case"applyWelfareList":return a=g.seriesRequest("POST","/Promotion/ApplyRecordList",t),this.handleRequest(P.WELFAREAPPLYLIST,a)}}},{key:"NewsAPI",value:function(e,t){var a;switch(e){case"newsList":return a=g.seriesRequest("POST","/News/GetNewsList",t),this.handleRequest(P.NEWSLIST,a);case"newsDetail":return a=g.seriesRequest("POST","/News/GetNewsById",t),this.handleRequest(P.NEWSDETAIL,a);case"NewsCommentList":return a=g.seriesRequest("POST","/News/GetCommentInfoList",t),this.handleRequest(P.NEWSCOMMENTLIST,a);case"addNewsComment":return a=g.seriesRequest("POST","/News/AddCommentInfo",t),this.promiseRequest(a);case"updateCommentNum":return a=g.seriesRequest("POST","/News/UpdateNewsCommentNumber",t),this.handleRequest(P.UPDATENEWSCOMMENT,a)}}},{key:"UserInterstedAPI",value:function(e,t){var a;switch(e){case"sportsFollow":return a=g.seriesRequest("POST","/UserIntersted/GetAttentionRecordsBySportList",t),this.handleRequest(P.SPORTSFOLLOW,a);case"lotteryFollow":return a=g.seriesRequest("POST","/UserIntersted/GetAttentionRecordsByLotteryList",t),this.handleRequest(P.LOTTERYFOLLOW,a);case"newsCollection":return a=g.seriesRequest("POST","/UserIntersted/GetSYSBlackWordList",t),this.handleRequest(P.NEWSCOLLECTION,a);case"sportsCollection":return a=g.seriesRequest("POST","/UserIntersted/GetInterestedRecordsSportList",t),this.handleRequest(P.SPORTSCOLLECTION,a);case"addCollection":return a=g.seriesRequest("POST","/UserIntersted/AddInterestedRecords",t),this.promiseRequest(a);case"addFollow":return a=g.seriesRequest("POST","/UserIntersted/AddAttentionRecords",t),this.promiseRequest(a)}}},{key:"ChatRoomAPI",value:function(e,t){var a;switch(e){case"createChatRoom":return a=g.seriesRequest("POST","/ChatRoom/CreateChatroom",t),this.promiseRequest(a);case"enterChatRoom":return a=g.seriesRequest("POST","/ChatRoom/AddMembers",t),this.promiseRequest(a);case"exitChatRoom":return a=g.seriesRequest("POST","/ChatRoom/RemoveMembers",t),this.promiseRequest(a);case"sendText":return a=g.seriesRequest("POST","/ChatRoom/SendTxtMessage",t),this.handleRequest(P.NEWSLIST,a);case"chatroomDetail":return a=g.seriesRequest("GET","/ChatRoom/GetChatroomInfoById",t),this.promiseRequest(a);case"getSign":return a=g.seriesRequest("POST","/ChatRoom/GetSign",t),this.promiseRequest(a)}}}]),e}(),C=[{key:0,value:"\u9ed1\u94c1"},{key:1,value:"\u9752\u94dc"},{key:2,value:"\u767d\u94f6"},{key:3,value:"\u9ec4\u91d1"},{key:4,value:"\u94c2\u91d1"},{key:5,value:"\u94bb\u77f3"},{key:6,value:"\u5927\u5e08"},{key:7,value:"\u738b\u8005"},{key:-1,value:"\u65e0\u6bb5\u4f4d"}],A=[{key:"\u2160",value:"\u2160"},{key:"\u2161",value:"\u2161"},{key:"\u2162",value:"\u2162"},{key:"\u2163",value:"\u2163"},{key:"\u2164",value:"\u2164"}],q=[{key:0,value:"\u666e\u901a"},{key:1,value:"VIP"},{key:2,value:"SVIP"}],F=[{key:0,value:"\u6b63\u5e38"},{key:1,value:"\u4f7f\u7528\u4e2d"},{key:2,value:"\u5176\u4ed6"}],D=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var n,l;return Object(m.a)(this,a),(l=t.call(this,e)).state=(n={dataSource:[{}],initData:{rankLevelName:"0",rankLevelFlexibleNum:"0"},visible:!1},Object(u.a)(n,"visible",!1),Object(u.a)(n,"balanceNum",null),Object(u.a)(n,"choosenAccount",null),n),l}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.fecthAccounts()}},{key:"fecthAccounts",value:function(){var e=this;x.WeChatRobotAPI("fetchAccounts",{wxid:"root"}).then((function(t){console.log("res======",t),e.setState({dataSource:t.data})}))}},{key:"handleEditAccount",value:function(e){var t=e.rankLevelSingle?e.rankLevelSingle.substring(2,e.rankLevelSingle.length):null,a=e.rankLevelFlexible?e.rankLevelFlexible.substring(2,e.rankLevelFlexible.length):null;this.setState({initData:Object(o.a)(Object(o.a)({},e),{},{rankLevelNum:t,rankLevelName:e.rankIndexSingle?e.rankIndexSingle:-1,rankLevelFlexibleName:e.rankIndexFlexible?e.rankIndexFlexible:-1,rankLevelFlexibleNum:a}),visible:!0,saveType:"edit"})}},{key:"onFinish",value:function(e){var t=this,a=Object(o.a)(Object(o.a)({},e),{},{rankIndexSingle:e.rankLevelName?e.rankLevelName:0,rankLevelSingle:C.find((function(t){return t.key===e.rankLevelName})).value+e.rankLevelNum,rankIndexFlexible:e.rankLevelFlexibleName?e.rankLevelFlexibleName:0,rankLevelFlexible:C.find((function(t){return t.key===e.rankLevelFlexibleName})).value+e.rankLevelFlexibleNum});"edit"===this.state.saveType&&(a.id=this.state.initData.id),delete e.rankLevelName,delete e.rankLevelNum,delete e.rankLevelFlexibleName,delete e.rankLevelFlexibleNum,x.WeChatRobotAPI("saveAccounts",a).then((function(e){200===e.code&&(v.b.success("\u4fdd\u5b58\u6210\u529f\uff01"),t.fecthAccounts(),t.setState({visible:!1}))}))}},{key:"handleLoginOut",value:function(e){this.setState({calcelVisible:!0,choosenAccount:e})}},{key:"getBalanceNum",value:function(e){this.setState({balanceNum:e.target.value})}},{key:"handleOk",value:function(){var e=this,t=this.state,a=t.balanceNum,n=t.choosenAccount;if(a){var l={accountIds:[n.id],balance:a};x.WeChatRobotAPI("cancelRent",l).then((function(t){200==t.code?(v.b.success("\u4e0b\u53f7\u6210\u529f"),e.setState({choosenAccount:null,calcelVisible:!1,balanceNum:null},(function(){e.fecthAccounts()}))):v.b.warning(t.message)}))}}},{key:"handleCancel",value:function(){this.setState({calcelVisible:!1})}},{key:"handleSetRentGroup",value:function(e){var t=this,a={userId:e.id,status:e.isRentGroup?0:1};x.WeChatRobotAPI("rentGroupChange",a).then((function(e){console.log(e),t.fecthAccounts()}))}},{key:"handleAdd",value:function(){this.setState({initData:{rankLevelNum:null,rankLevelName:-1,rankLevelFlexibleName:-1,rankLevelFlexibleNum:null},visible:!0,saveType:"add"})}},{key:"render",value:function(){var e=this,t=this.state,a=t.dataSource,n=t.initData,r=t.visible,s=t.saveType,i=[{title:"\u8d26\u53f7",dataIndex:"username",key:"username"},{title:"\u5bc6\u7801",dataIndex:"password",key:"password"},{title:"\u6635\u79f0",dataIndex:"nickName",key:"nickName"},{title:"VIP\u9650\u5236\u7b49\u7ea7",dataIndex:"vipLevel",width:160,key:"vipLevel",render:function(e,t,a){return l.a.createElement("div",null,0==e?l.a.createElement("span",{style:{color:"#008000"}},"\u666e\u901a"):1==e?l.a.createElement("span",{style:{color:"#FF8C00"}},"VIP"):l.a.createElement("span",{style:{color:"#ff0000"}},"SVIP"))}},{title:"\u72b6\u6001",dataIndex:"status",key:"status",render:function(e,t,a){return l.a.createElement("div",null,0==e?l.a.createElement("span",{style:{color:"#008000"}},"\u6b63\u5e38"):1==e?l.a.createElement("span",{style:{color:"#FF8C00"}},"\u4f7f\u7528\u4e2d"):l.a.createElement("span",{style:{color:"#ff0000"}},"\u4e0d\u53ef\u7528"))}},{title:"\u5355\u53cc\u6392\u6bb5\u4f4d",dataIndex:"rankLevelSingle",key:"rankLevelSingle",width:160},{title:"\u7075\u6d3b\u6392\u4f4d\u6bb5\u4f4d",dataIndex:"rankLevelFlexible",key:"rankLevelFlexible",width:160},{title:"\u82f1\u96c4\u6570",dataIndex:"heroNum",key:"heroNum"},{title:"\u7b49\u7ea7",dataIndex:"level",key:"level"},{title:"\u79df\u53f7\u5355\u4ef7\uff08\u5143/\u65f6\uff09",dataIndex:"price",key:"price",width:160},{title:"\u82f1\u96c4",dataIndex:"heroList",key:"heroList",ellipsis:!0},{title:"\u64cd\u4f5c",dataIndex:"operation",width:160,render:function(t,a,n){return l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(S.a,{type:"link",onClick:e.handleEditAccount.bind(e,a)},"\u7f16\u8f91"),l.a.createElement(S.a,{type:"link",onClick:e.handleLoginOut.bind(e,a)},"\u4e0b\u53f7"))}}];return l.a.createElement("div",null,l.a.createElement(y.a,{style:{marginBottom:20}},l.a.createElement(S.a,{onClick:this.handleAdd.bind(this),type:"primary"},"\u65b0\u589e")),l.a.createElement(p.a,{columns:i,dataSource:a}),l.a.createElement(k.a,{visible:r,width:600,title:"edit"==s?"\u7f16\u8f91":"\u65b0\u5efa",onClose:function(){e.setState({visible:!1})}},l.a.createElement(O.a,{labelCol:{span:6},wrapperCol:{span:14},layout:"horizontal",initialValues:n,onFinish:this.onFinish.bind(this)},l.a.createElement(O.a.Item,{label:"\u8d26\u53f7\u72b6\u6001",name:"status",required:!0},l.a.createElement(R.a,null,F.map((function(e,t){return l.a.createElement(R.a.Option,{value:e.key,key:e.key},e.value)})))),l.a.createElement(O.a.Item,{label:"\u8d26\u53f7",name:"username",required:!0},l.a.createElement(T.a,{placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7"})),l.a.createElement(O.a.Item,{label:"\u5bc6\u7801",name:"password",required:!0},l.a.createElement(T.a.Password,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"})),l.a.createElement(O.a.Item,{label:"\u6635\u79f0",name:"nickName"},l.a.createElement(T.a,{placeholder:"\u8bf7\u8f93\u5165\u6635\u79f0"})),l.a.createElement(O.a.Item,{label:"VIP\u9650\u5236\u7b49\u7ea7",name:"vipLevel"},l.a.createElement(R.a,null,q.map((function(e,t){return l.a.createElement(R.a.Option,{value:e.key,key:e.key},e.value)})))),l.a.createElement(O.a.Item,{label:"\u5355\u53cc\u6392\u6bb5\u4f4d"},l.a.createElement(O.a.Item,{name:"rankLevelName"},l.a.createElement(R.a,{placeholder:"\u8bf7\u9009\u62e9\u5355\u53cc\u6392\u6bb5\u4f4d"},C.map((function(e,t){return l.a.createElement(R.a.Option,{key:e.key,value:e.key},e.value)})))),l.a.createElement(O.a.Item,{name:"rankLevelNum"},l.a.createElement(R.a,null,A.map((function(e,t){return l.a.createElement(R.a.Option,{key:e.key,value:e.key},e.value)}))))),l.a.createElement(O.a.Item,{label:"\u7075\u6d3b\u6392\u4f4d\u6bb5\u4f4d"},l.a.createElement(O.a.Item,{name:"rankLevelFlexibleName"},l.a.createElement(R.a,{placeholder:"\u8bf7\u9009\u62e9\u5355\u53cc\u6392\u6bb5\u4f4d"},C.map((function(e,t){return l.a.createElement(R.a.Option,{key:e.key,value:e.key},e.value)})))),l.a.createElement(O.a.Item,{name:"rankLevelFlexibleNum"},l.a.createElement(R.a,null,A.map((function(e,t){return l.a.createElement(R.a.Option,{key:e.key,value:e.key},e.value)}))))),l.a.createElement(O.a.Item,{label:"\u82f1\u96c4\u6570\u91cf",name:"heroNum"},l.a.createElement(T.a,{placeholder:"\u8bf7\u8f93\u5165\u6635\u79f0"})),l.a.createElement(O.a.Item,{label:"\u7b49\u7ea7",name:"level"},l.a.createElement(T.a,{placeholder:"\u8bf7\u8f93\u5165\u6635\u79f0"})),l.a.createElement(O.a.Item,{label:"\u79df\u53f7\u5355\u4ef7\uff08\u5143/\u65f6\uff09",name:"price"},l.a.createElement(T.a,{placeholder:"\u8bf7\u8f93\u5165\u79df\u53f7\u5355\u4ef7"})),l.a.createElement(O.a.Item,{label:"\u82f1\u96c4",name:"heroList"},l.a.createElement(T.a.TextArea,{placeholder:"\u8bf7\u8f93\u5165\u82f1\u96c4"})),l.a.createElement(O.a.Item,null,l.a.createElement(S.a,{type:"primary",htmlType:"submit"},"\u63d0\u4ea4")))),l.a.createElement(I.a,{title:"\u4e0b\u53f7",visible:this.state.calcelVisible,onOk:this.handleOk.bind(this),onCancel:this.handleCancel.bind(this),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},l.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},l.a.createElement("div",{style:{flex:2}},"\u91d1\u989d"),l.a.createElement(T.a,{style:{flex:3},onChange:this.getBalanceNum.bind(this)}))))}}]),a}(l.a.Component),w=a(349),M=a(342),G=a(180),j=R.a.Option,Y=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={dataSource:[{}],curPage:1,pageSize:10,total:0,visible:!1,balanceNum:null,choosenUser:null},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.fetchUsers()}},{key:"fetchUsers",value:function(e,t){var a=this;this.setState({curPage:e||0},(function(){var n=a.state,l=n.curPage,r=n.pageSize,s={page:e?e-1:l,size:r};t&&(s={page:s.page?s.page:0,size:s.size?s.size:10,mark:t.mark?t.mark:"",name:t.name?t.name:"",sex:t.sex?t.sex:null,status:t.status?t.status:null}),x.WeChatRobotAPI("fetchUsers",s).then((function(e){a.setState({dataSource:e.data.content,total:e.data.totalElements})}))}))}},{key:"handleChangePage",value:function(e){this.fetchUsers(e)}},{key:"handleQuery",value:function(e){this.fetchUsers(0,e)}},{key:"handleRecharge",value:function(e){this.setState({visible:!0,choosenUser:e})}},{key:"getBalanceNum",value:function(e){this.setState({balanceNum:e.target.value})}},{key:"handleOk",value:function(){var e=this,t=this.state,a=t.balanceNum,n=t.choosenUser;if(a){var l={type:1,balance:a,userId:n.id};x.WeChatRobotAPI("recharge",l).then((function(t){200==t.code?(v.b.success("\u5145\u503c\u6210\u529f"),e.setState({choosenUser:null,visible:!1,balanceNum:null},(function(){e.fetchUsers()}))):v.b.warning(t.message)}))}}},{key:"handleCancel",value:function(){this.setState({visible:!1})}},{key:"handleSetRentGroup",value:function(e){var t=this,a={userId:e.id,status:e.isRentGroup?0:1};x.WeChatRobotAPI("rentGroupChange",a).then((function(e){console.log(e),t.fetchUsers()}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.dataSource,n=t.curPage,r=t.pageSize,s=t.total,i=[{title:"\u6635\u79f0",dataIndex:"nickName",key:"nickName",width:260,ellipsis:!0,render:function(e,t,a){return l.a.createElement("div",null,t.wxid&&t.wxid.indexOf("@chatroom")>-1?l.a.createElement("span",null,e,"(\u7fa4)"):l.a.createElement("span",null,e))}},{title:"\u5907\u6ce8\u540d",dataIndex:"remarkName",key:"remarkName"},{title:"\u662f\u5426\u79df\u53f7\u7fa4",dataIndex:"isRentGroup",key:"isRentGroup",render:function(t,a,n){return l.a.createElement("div",null,l.a.createElement(w.a,{checkedChildren:"\u542f\u7528\u4e2d",unCheckedChildren:"\u7981\u7528\u4e2d",checked:a.isRentGroup,onChange:e.handleSetRentGroup.bind(e,a)}))}},{title:"\u7528\u6237\u7c7b\u578b",dataIndex:"type",key:"type",render:function(e,t,a){return l.a.createElement("div",null,0==e?l.a.createElement("span",{style:{color:"#1E90FF"}},"\u666e\u901a\u7528\u6237"):1==e?l.a.createElement("span",{style:{color:"#FFD700"}},"VIP"):2==e?l.a.createElement("span",{style:{color:"#FF8C00"}},"SVIP"):l.a.createElement("span",{style:{color:"#ccc"}},"\u672a\u77e5"))}},{title:"\u7528\u6237\u72b6\u6001",dataIndex:"status",key:"status",render:function(e,t,a){return l.a.createElement("div",null,0==e?l.a.createElement("span",{style:{color:"#008000"}},"\u6b63\u5e38"):1==e?l.a.createElement("span",{style:{color:"#ff0000"}},"\u5f02\u5e38\uff08\u4e0d\u53ef\u79df\u53f7\uff09"):l.a.createElement("span",{style:{color:"#ccc"}},"\u672a\u77e5"))}},{title:"\u4f59\u989d",dataIndex:"balance",key:"balance"},{title:"\u6027\u522b",dataIndex:"sex",key:"sex",render:function(e,t,a){return l.a.createElement("div",null,1==e?l.a.createElement("span",null,"\u7537"):l.a.createElement("span",null,"\u5973"))}},{title:"\u79df\u53f7\u6a21\u5f0f",dataIndex:"rentMode",key:"rentMode",render:function(e,t,a){return l.a.createElement("div",null,1==e?l.a.createElement("span",null,"\u5148\u6253\u540e\u4ed8\u6b3e"):2==e?l.a.createElement("span",null,"\u5148\u4ed8\u6b3e\u540e\u6253"):l.a.createElement("span",{style:{color:"#ccc"}},"\u672a\u77e5"))}},{title:"\u64cd\u4f5c",dataIndex:"operation",key:"operation",render:function(t,a,n){return l.a.createElement("div",null,l.a.createElement(S.a,{type:"link",onClick:e.handleRecharge.bind(e,a)},"\u5145\u503c"))}}];return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(O.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:14}},{onFinish:this.handleQuery.bind(this)}),l.a.createElement(y.a,{style:{backgroundColor:"#fff",padding:"16px 0px 0px 0px",marginBottom:16}},l.a.createElement(M.a,{span:5},l.a.createElement(O.a.Item,{label:"\u6635\u79f0",name:"name"},l.a.createElement(T.a,{placeholder:"\u8bf7\u8f93\u5165\u6635\u79f0",allowClear:!0}))),l.a.createElement(M.a,{span:5},l.a.createElement(O.a.Item,{label:"\u5907\u6ce8\u540d",name:"mark"},l.a.createElement(T.a,{placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8\u540d",allowClear:!0}))),l.a.createElement(M.a,{span:5},l.a.createElement(O.a.Item,{label:"\u72b6\u6001",name:"status"},l.a.createElement(R.a,{allowClear:!0},l.a.createElement(j,{value:0},"\u6b63\u5e38"),l.a.createElement(j,{value:1},"\u5f02\u5e38\uff08\u4e0d\u53ef\u79df\u53f7\uff09")))),l.a.createElement(M.a,{span:5},l.a.createElement(O.a.Item,{label:"\u6027\u522b",name:"sex"},l.a.createElement(R.a,{allowClear:!0},l.a.createElement(j,{value:"1"},"\u7537"),l.a.createElement(j,{value:"2"},"\u5973")))),l.a.createElement(M.a,{span:2},l.a.createElement(O.a.Item,null,l.a.createElement(S.a,{type:"primary",htmlType:"submit"},"\u67e5\u8be2")))))),l.a.createElement(p.a,{style:{marginBottom:20},columns:i,dataSource:a,pagination:!1}),l.a.createElement(G.a,{defaultCurrent:n,total:s,pageSize:r,onChange:this.handleChangePage.bind(this),showSizeChanger:!1}),l.a.createElement(I.a,{title:"\u5145\u503c",visible:this.state.visible,onOk:this.handleOk.bind(this),onCancel:this.handleCancel.bind(this),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},l.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},l.a.createElement("div",{style:{flex:2}},"\u5145\u503c\u91d1\u989d"),l.a.createElement(T.a,{style:{flex:3},onChange:this.getBalanceNum.bind(this)}))))}}]),a}(l.a.Component);function W(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()>9?t.getMonth():"0"+t.getMonth())+"-"+(t.getDay()>9?t.getDay():"0"+t.getDay())+"  "+(t.getHours()>9?t.getHours():"0"+t.getHours())+":"+(t.getMinutes()>9?t.getMinutes():"0"+t.getMinutes())+":"+(t.getSeconds()>9?t.getSeconds():"0"+t.getSeconds())}var U=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={dataSource:[],curPage:0,pageSize:10,total:0},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.fetchOrders()}},{key:"fetchOrders",value:function(e){var t=this;this.setState({curPage:e||0},(function(){var a=t.state,n=a.curPage,l=a.pageSize,r={page:e?e-1:n,size:l};x.WeChatRobotAPI("fetchOrders",r).then((function(e){t.setState({dataSource:e.data.content,total:e.data.totalElements})}))}))}},{key:"handleChangePage",value:function(e){this.fetchOrders(e)}},{key:"render",value:function(){var e=this.state,t=e.dataSource,a=e.curPage,n=e.pageSize,r=e.total,s=[{title:"\u8ba2\u5355\u53f7",dataIndex:"accountId",key:"accountId"},{title:"\u72b6\u6001",dataIndex:"status",key:"status",render:function(e,t,a){return l.a.createElement("div",null,0==e?l.a.createElement("span",{style:{color:"#008000"}},"\u5df2\u7ed3\u675f"):1==e?l.a.createElement("span",{style:{color:"#FF8C00"}},"\u8fdb\u884c\u4e2d"):2==e?l.a.createElement("span",{style:{color:"#1E90FF"}},"\u5df2\u5b8c\u6210"):l.a.createElement("span",{style:{color:"#ccc"}},"\u5176\u4ed6"))}},{title:"\u6d88\u8d39\u91d1\u989d(\u5143)",dataIndex:"amount",key:"amount"},{title:"\u5386\u65f6(\u5206\u949f)",dataIndex:"costTime",key:"costTime"},{title:"\u652f\u4ed8\u72b6\u6001",dataIndex:"payStatus",key:"payStatus",render:function(e,t,a){return l.a.createElement("div",null,0==e?l.a.createElement("span",{style:{color:"#008000"}},"\u5df2\u652f\u4ed8"):1==e?l.a.createElement("span",{style:{color:"#FF8C00"}},"\u5f85\u652f\u4ed8"):l.a.createElement("span",{style:{color:"#ccc"}},"\u672a\u77e5"))}},{title:"\u5f00\u59cb\u65f6\u95f4",dataIndex:"createTime",key:"createTime",render:function(e,t,a){var n=W(e);return l.a.createElement("div",null,n)}},{title:"\u7ed3\u675f\u65f6\u95f4",dataIndex:"endTime",key:"endTime",render:function(e,t,a){var n=W(e);return l.a.createElement("div",null,n)}}];return l.a.createElement("div",null,l.a.createElement(p.a,{style:{marginBottom:20},columns:s,dataSource:t,pagination:!1}),l.a.createElement(G.a,{defaultCurrent:a,total:r,pageSize:n,onChange:this.handleChangePage.bind(this),showSizeChanger:!1}))}}]),a}(l.a.Component),V=[{key:0,value:"\u9ed1\u94c1"},{key:1,value:"\u9752\u94dc"},{key:2,value:"\u767d\u94f6"},{key:3,value:"\u9ec4\u91d1"},{key:4,value:"\u94c2\u91d1"},{key:5,value:"\u94bb\u77f3"},{key:6,value:"\u5927\u5e08"},{key:7,value:"\u738b\u8005"},{key:-1,value:"\u65e0\u6bb5\u4f4d"}],B=[{key:"\u2160",value:"\u2160"},{key:"\u2161",value:"\u2161"},{key:"\u2162",value:"\u2162"},{key:"\u2163",value:"\u2163"},{key:"\u2164",value:"\u2164"}],z=[{key:0,value:"\u666e\u901a"},{key:1,value:"VIP"},{key:2,value:"SVIP"}],H=[{key:0,value:"\u6b63\u5e38"},{key:1,value:"\u4f7f\u7528\u4e2d"},{key:2,value:"\u5176\u4ed6"}],X=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var n,l;return Object(m.a)(this,a),(l=t.call(this,e)).state=(n={dataSource:[{}],initData:{rankLevelName:"0",rankLevelFlexibleNum:"0"},visible:!1},Object(u.a)(n,"visible",!1),Object(u.a)(n,"balanceNum",null),Object(u.a)(n,"choosenAccount",null),n),l}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.fecthAccounts()}},{key:"fecthAccounts",value:function(){var e=this;x.WeChatRobotAPI("fetchAccountsRent",{wxid:"root"}).then((function(t){console.log("res======",t),e.setState({dataSource:t.data})}))}},{key:"handleEditAccount",value:function(e){var t=e.rankLevelSingle?e.rankLevelSingle.substring(2,e.rankLevelSingle.length):null,a=e.rankLevelFlexible?e.rankLevelFlexible.substring(2,e.rankLevelFlexible.length):null;this.setState({initData:Object(o.a)(Object(o.a)({},e),{},{rankLevelNum:t,rankLevelName:e.rankIndexSingle?e.rankIndexSingle:-1,rankLevelFlexibleName:e.rankIndexFlexible?e.rankIndexFlexible:-1,rankLevelFlexibleNum:a}),visible:!0})}},{key:"onFinish",value:function(e){var t=this,a=Object(o.a)(Object(o.a)({},e),{},{rankIndexSingle:e.rankLevelName?e.rankLevelName:0,rankLevelSingle:V.find((function(t){return t.key===e.rankLevelName})).value+e.rankLevelNum,rankIndexFlexible:e.rankLevelFlexibleName?e.rankLevelFlexibleName:0,rankLevelFlexible:V.find((function(t){return t.key===e.rankLevelFlexibleName})).value+e.rankLevelFlexibleNum});this.state.initData&&(a.id=this.state.initData.id),delete e.rankLevelName,delete e.rankLevelNum,delete e.rankLevelFlexibleName,delete e.rankLevelFlexibleNum,x.WeChatRobotAPI("saveAccounts",a).then((function(e){200===e.code&&(v.b.success("\u4fdd\u5b58\u6210\u529f\uff01"),t.setState({visible:!1}))}))}},{key:"handleLoginOut",value:function(e){this.setState({calcelVisible:!0,choosenAccount:e})}},{key:"getBalanceNum",value:function(e){this.setState({balanceNum:e.target.value})}},{key:"handleOk",value:function(){var e=this,t=this.state,a=t.balanceNum,n=t.choosenAccount;if(a){var l={accountIds:[n.id],balance:a};x.WeChatRobotAPI("cancelRent",l).then((function(t){200==t.code?(v.b.success("\u4e0b\u53f7\u6210\u529f"),e.setState({choosenAccount:null,calcelVisible:!1,balanceNum:null},(function(){e.fecthAccounts()}))):v.b.warning(t.message)}))}}},{key:"handleCancel",value:function(){this.setState({calcelVisible:!1})}},{key:"handleSetRentGroup",value:function(e){var t=this,a={userId:e.id,status:e.isRentGroup?0:1};x.WeChatRobotAPI("rentGroupChange",a).then((function(e){console.log(e),t.fecthAccounts()}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.dataSource,n=t.initData,r=t.visible,s=[{title:"\u79df\u53f7\u4eba",dataIndex:"wxName",key:"wxName"},{title:"\u8d26\u53f7",dataIndex:"username",key:"username"},{title:"\u6635\u79f0",dataIndex:"nickName",key:"nickName"},{title:"VIP\u9650\u5236\u7b49\u7ea7",dataIndex:"vipLevel",key:"vipLevel",render:function(e,t,a){return l.a.createElement("div",null,0==e?l.a.createElement("span",{style:{color:"#008000"}},"\u666e\u901a"):1==e?l.a.createElement("span",{style:{color:"#FF8C00"}},"VIP"):l.a.createElement("span",{style:{color:"#ff0000"}},"SVIP"))}},{title:"\u72b6\u6001",dataIndex:"status",key:"status",render:function(e,t,a){return l.a.createElement("div",null,0==e?l.a.createElement("span",{style:{color:"#008000"}},"\u6b63\u5e38"):1==e?l.a.createElement("span",{style:{color:"#FF8C00"}},"\u4f7f\u7528\u4e2d"):l.a.createElement("span",{style:{color:"#ff0000"}},"\u4e0d\u53ef\u7528"))}},{title:"\u5355\u53cc\u6392\u6bb5\u4f4d",dataIndex:"rankLevelSingle",key:"rankLevelSingle"},{title:"\u7b49\u7ea7",dataIndex:"level",key:"level"},{title:"\u79df\u53f7\u5355\u4ef7\uff08\u5143/\u65f6\uff09",dataIndex:"price",key:"price",width:160},{title:"\u65f6\u957f",dataIndex:"costTime",width:160,key:"costTime",ellipsis:!0,render:function(e,t,a){return l.a.createElement("span",null,parseInt(parseInt(e)/60),"\u5c0f\u65f6",parseInt(e)%60,"\u5206\u949f")}},{title:"\u64cd\u4f5c",dataIndex:"operation",width:160,render:function(t,a,n){return l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(S.a,{type:"link",onClick:e.handleLoginOut.bind(e,a)},"\u4e0b\u53f7"))}}];return l.a.createElement("div",null,l.a.createElement(p.a,{columns:s,dataSource:a}),l.a.createElement(k.a,{visible:r,width:600,title:n?"\u7f16\u8f91":"\u65b0\u5efa",onClose:function(){e.setState({visible:!1})}},l.a.createElement(O.a,{labelCol:{span:6},wrapperCol:{span:14},layout:"horizontal",initialValues:n,onFinish:this.onFinish.bind(this)},l.a.createElement(O.a.Item,{label:"\u8d26\u53f7\u72b6\u6001",name:"status",required:!0},l.a.createElement(R.a,null,H.map((function(e,t){return l.a.createElement(R.a.Option,{value:e.key,key:e.key},e.value)})))),l.a.createElement(O.a.Item,{label:"\u8d26\u53f7",name:"username",required:!0},l.a.createElement(T.a,{placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7"})),l.a.createElement(O.a.Item,{label:"\u5bc6\u7801",name:"password",required:!0},l.a.createElement(T.a.Password,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"})),l.a.createElement(O.a.Item,{label:"\u6635\u79f0",name:"nickName"},l.a.createElement(T.a,{placeholder:"\u8bf7\u8f93\u5165\u6635\u79f0"})),l.a.createElement(O.a.Item,{label:"VIP\u9650\u5236\u7b49\u7ea7",name:"vipLevel"},l.a.createElement(R.a,null,z.map((function(e,t){return l.a.createElement(R.a.Option,{value:e.key,key:e.key},e.value)})))),l.a.createElement(O.a.Item,{label:"\u5355\u53cc\u6392\u6bb5\u4f4d"},l.a.createElement(O.a.Item,{name:"rankLevelName"},l.a.createElement(R.a,{placeholder:"\u8bf7\u9009\u62e9\u5355\u53cc\u6392\u6bb5\u4f4d"},V.map((function(e,t){return l.a.createElement(R.a.Option,{key:e.key,value:e.key},e.value)})))),l.a.createElement(O.a.Item,{name:"rankLevelNum"},l.a.createElement(R.a,null,B.map((function(e,t){return l.a.createElement(R.a.Option,{key:e.key,value:e.key},e.value)}))))),l.a.createElement(O.a.Item,{label:"\u7075\u6d3b\u6392\u4f4d\u6bb5\u4f4d"},l.a.createElement(O.a.Item,{name:"rankLevelFlexibleName"},l.a.createElement(R.a,{placeholder:"\u8bf7\u9009\u62e9\u5355\u53cc\u6392\u6bb5\u4f4d"},V.map((function(e,t){return l.a.createElement(R.a.Option,{key:e.key,value:e.key},e.value)})))),l.a.createElement(O.a.Item,{name:"rankLevelFlexibleNum"},l.a.createElement(R.a,null,B.map((function(e,t){return l.a.createElement(R.a.Option,{key:e.key,value:e.key},e.value)}))))),l.a.createElement(O.a.Item,{label:"\u82f1\u96c4\u6570\u91cf",name:"heroNum"},l.a.createElement(T.a,{placeholder:"\u8bf7\u8f93\u5165\u6635\u79f0"})),l.a.createElement(O.a.Item,{label:"\u7b49\u7ea7",name:"level"},l.a.createElement(T.a,{placeholder:"\u8bf7\u8f93\u5165\u6635\u79f0"})),l.a.createElement(O.a.Item,{label:"\u79df\u53f7\u5355\u4ef7\uff08\u5143/\u65f6\uff09",name:"price"},l.a.createElement(T.a,{placeholder:"\u8bf7\u8f93\u5165\u79df\u53f7\u5355\u4ef7"})),l.a.createElement(O.a.Item,{label:"\u82f1\u96c4",name:"heroList"},l.a.createElement(T.a.TextArea,{placeholder:"\u8bf7\u8f93\u5165\u82f1\u96c4"})),l.a.createElement(O.a.Item,null,l.a.createElement(S.a,{type:"primary",htmlType:"submit"},"\u63d0\u4ea4")))),l.a.createElement(I.a,{title:"\u4e0b\u53f7",visible:this.state.calcelVisible,onOk:this.handleOk.bind(this),onCancel:this.handleCancel.bind(this),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},l.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},l.a.createElement("div",{style:{flex:2}},"\u91d1\u989d"),l.a.createElement(T.a,{style:{flex:3},onChange:this.getBalanceNum.bind(this)}))))}}]),a}(l.a.Component),J=i.a.TabPane,Z=c.a.Header,Q=c.a.Content;var $=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(c.a,{style:{height:"100%"}},l.a.createElement(Z,{style:{color:"#fff",fontSize:"24px",textAlign:"left"}},"\u5305\u732a\u516c\u5fae\u4fe1\u673a\u5668\u4eba\u7ba1\u7406\u540e\u53f0"),l.a.createElement(c.a,null,l.a.createElement(Q,{className:"page-content"},l.a.createElement(i.a,null,l.a.createElement(J,{tab:"\u8d26\u53f7\u5217\u8868",key:0},l.a.createElement(D,null)),l.a.createElement(J,{tab:"\u7528\u6237\u5217\u8868",key:1},l.a.createElement(Y,null)),l.a.createElement(J,{tab:"\u8ba2\u5355\u5217\u8868",key:2},l.a.createElement(U,null)),l.a.createElement(J,{tab:"\u8d85\u65f6\u8d26\u53f7",key:3},l.a.createElement(X,null)))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=a(91),K={type:P.BASE,data:{},status:L};var ee=Object(_.b)({Common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.reduceType){case P.BASE:return Object.assign({},e,{type:t.type,data:t.data,status:t.status});default:return e}}}),te=[a(179).a];Object(_.c)(ee,_.a.apply(void 0,te));s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[190,1,2]]]);
//# sourceMappingURL=main.8bc93304.chunk.js.map